## 流的历史

> 在 node 中如果使用传统的readFile 去读取文件会将文件从头到尾都读到内存中，
当所有内容都被读取完毕之后才会对加载到内存中的文件内容进行统一处理。

这样会有两个缺点：

- 内存方面：占用大量内存
- 时间方面：需要等待数据的整个有效负载都加载完才会开始处理数据

node中有四种类型的流，都是node中EventEmitter 的实例：

- 可读流（Readable Stream）
- 可写流（Writable Stream）
- 可读可写全双工流（Duplex Stream）
- 转换流（Transform Stream）


## 流的基本概念

流是一种抽象的数据结构，是数据的集合，其中存储的数据类型只能为以下类型：

- string
- Buffer

> 我们可以把流看作这些数据的集合，就像液体一样，我们先把这些液体保存在一个容器里（流的内部缓冲区 BufferList），等到相应的事件触发的时候，我们再把里面的液体倒进管道里，并通知其他人在管道的另一侧拿自己的容器来接里面的液体进行处理。

## 可读流



